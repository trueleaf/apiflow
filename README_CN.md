<div align="center">

![logo](./docs/logo.jpg)

# Apiflow

### Postman / Apifox å¼€æºæ›¿ä»£æ–¹æ¡ˆ

[English](./README.md) | ä¸­æ–‡

[![GitHub Release](https://img.shields.io/github/v/release/trueleaf/apiflow?style=flat-square)](https://github.com/trueleaf/apiflow/releases/latest)
[![License](https://img.shields.io/github/license/trueleaf/apiflow)](https://github.com/trueleaf/apiflow/blob/master/LICENSE)
[![Downloads](https://img.shields.io/github/downloads/trueleaf/apiflow/total)](https://github.com/trueleaf/apiflow/releases/latest)

[ä¸‹è½½](https://github.com/trueleaf/apiflow/releases) | [åœ¨çº¿æ¼”Demo](https://apiflow.cn/)


</div>

---

## ğŸ–¥ï¸ ç•Œé¢é¢„è§ˆ

### Agentå±•ç¤º
![AI ä»£ç†](./docs/zh/agent_zh.gif)

### SSEä¸MOCKå±•ç¤º
![SSE](./docs/zh/sse_zh.gif)

---

## ğŸš€ Apiflow æ˜¯ä»€ä¹ˆï¼Ÿ

**Apiflow** æ˜¯ä¸€ä¸ª **å®Œå…¨å…è´¹**ã€**å†…ç½® AI èƒ½åŠ›** çš„ API æ¥å£å·¥å…·ï¼Œè‡´åŠ›äºæˆä¸º**Postmanã€Apifox çš„ç°ä»£åŒ–å¼€æºæ›¿ä»£æ–¹æ¡ˆ**ã€‚

å®ƒé›†æˆäº† **API æµ‹è¯•ã€Mockã€WebSocketã€AI Agentã€å›¢é˜Ÿåä½œã€ç¦»çº¿ä½¿ç”¨ã€æœ¬åœ°éƒ¨ç½²** ç­‰èƒ½åŠ›ï¼Œå¹¶å…¨é¢æ‹¥æŠ± **OpenAPI 3.0 ç”Ÿæ€ä½“ç³»**ã€‚

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### âœ… å®Œå…¨å…è´¹
- æ‰€æœ‰åŠŸèƒ½æ°¸ä¹…å…è´¹
- æ— ä»˜è´¹è®¡åˆ’
- æ— åŠŸèƒ½é™åˆ¶
- ä¸€é”®å¯¼å‡ºåˆ°postmanã€apifoxç­‰å·¥å…·

### ğŸ¤– å†…ç½® AI Agent
- å†…ç½® AI Agentï¼Œè¾…åŠ© API è®¾è®¡ã€æµ‹è¯•ä¸è°ƒè¯•
- æ”¯æŒé…ç½®ä½ è‡ªå·±çš„å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰
- æ”¯æŒ **ç¦»çº¿ / å†…ç½‘ç¯å¢ƒ** ä½¿ç”¨

### ğŸ‘¥ å›¢é˜Ÿåä½œ
- å†…ç½®å›¢é˜Ÿä¸å·¥ä½œåŒºç®¡ç†
- **å›¢é˜Ÿæ•°é‡ã€æˆå‘˜æ•°é‡ä¸é™**
- ç»†ç²’åº¦æƒé™æ§åˆ¶ï¼š
  - é¡¹ç›®çº§æƒé™
  - åŸºäºè§’è‰²çš„æƒé™ç®¡ç†ï¼ˆRBACï¼‰
  - åªè¯» / ç¼–è¾‘ / ç®¡ç†å‘˜è§’è‰²
- æ“ä½œè®°å½•ä¸å˜æ›´å†å²è¿½è¸ª
- é€‚ç”¨äºä»»ä½•è§„æ¨¡çš„å›¢é˜Ÿ

### ğŸ“´ ç¦»çº¿ & åœ¨çº¿
- Local-First è®¾è®¡ç†å¿µ
- å®Œæ•´ç¦»çº¿èƒ½åŠ›ï¼Œæœ¬åœ°æ•°æ®æŒä¹…åŒ–
- ç¦»çº¿ / åœ¨çº¿æ•°æ®åŒå‘è½¬æ¢
- ä»ä¸ªäººä½¿ç”¨å¹³æ»‘è¿‡æ¸¡åˆ°å›¢é˜Ÿåä½œ
- éå¸¸é€‚åˆå†…ç½‘æˆ–å—é™ç½‘ç»œç¯å¢ƒ

### ğŸ  è‡ªæ‰˜ç®¡ & æœ¬åœ°éƒ¨ç½²
- Docker ä¸€é”®éƒ¨ç½²
- æ•°æ®å®Œå…¨ç”±è‡ªå·±æŒæ§
- é€‚ç”¨äºä¼ä¸šç§æœ‰åŒ–éƒ¨ç½²åœºæ™¯

### ğŸ”„ OpenAPI å‹å¥½
- æ”¯æŒ **OpenAPI 3.x** å¯¼å…¥ / å¯¼å‡º
- å¯æ— ç¼è¿ç§»åˆ°ï¼š
  - Postman
  - Insomnia
  - Hoppscotch
  - ä»»æ„ OpenAPI å…¼å®¹å·¥å…·

---

## ğŸ§© æ ¸å¿ƒèƒ½åŠ›ä¸€è§ˆ

- HTTP API æµ‹è¯•ï¼ˆRESTfulï¼‰
- WebSocket æµ‹è¯•
- Mock Serverï¼ˆHTTP / WebSocket / SSEï¼‰
- ç¯å¢ƒå˜é‡ä¸å˜é‡ç³»ç»Ÿ
- è¯·æ±‚å‰ / è¯·æ±‚åè„šæœ¬
- é¡¹ç›®ä¸æ–‡ä»¶å¤¹ç®¡ç†
- å¯¼å…¥ / å¯¼å‡ºï¼ˆPostman / OpenAPI / JSONï¼‰
- å›½é™…åŒ–æ”¯æŒï¼ˆè‹±æ–‡ / ä¸­æ–‡ / æ—¥æ–‡ï¼‰

---

## â¬‡ï¸ ä¸‹è½½

è·å–é€‚ç”¨äºä½ å¹³å°çš„æœ€æ–°ç‰ˆæœ¬ï¼š

| å¹³å° | ä¸‹è½½åœ°å€ |
|------|----------|
| ğŸªŸ Windows | https://github.com/trueleaf/apiflow/releases |
| ğŸ macOS | https://github.com/trueleaf/apiflow/releases |
| ğŸ§ Linux | https://github.com/trueleaf/apiflow/releases |

---

## ğŸ³ æœ¬åœ°éƒ¨ç½²ï¼ˆDockerï¼‰

### ç¯å¢ƒè¦æ±‚
- Docker
- Docker Compose

### é¦–æ¬¡éƒ¨ç½²

```bash
git clone https://gitee.com/wildsell/apiflow
cd apiflow

cp .env.example .env
# ç¼–è¾‘ .envï¼Œé…ç½® MongoDB ç­‰å‚æ•°

docker compose -f docker-compose.yml -f docker-compose.cn.yml pull
docker compose -f docker-compose.yml -f docker-compose.cn.yml up -d

# éªŒè¯éƒ¨ç½²
curl http://localhost
curl http://localhost/api/health
```

### éƒ¨ç½²åæ·»åŠ ç”¨æˆ·

éƒ¨ç½²æˆåŠŸå,æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ·»åŠ ç”¨æˆ·:

1. **åˆ‡æ¢åˆ°äº’è”ç½‘æ¨¡å¼**
   - ç‚¹å‡»åº”ç”¨ä¸­çš„ç½‘ç»œæ¨¡å¼åˆ‡æ¢æŒ‰é’®(é€šå¸¸åœ¨å³ä¸Šè§’)
   - é€‰æ‹©"äº’è”ç½‘æ¨¡å¼"ä»¥å¯ç”¨åœ¨çº¿åŠŸèƒ½

2. **ç™»å½•ç®¡ç†å‘˜è´¦å·**
   - è´¦å·: `admin`
   - é»˜è®¤å¯†ç : `111111`
   - âš ï¸ **é‡è¦æç¤º**: é¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ä»¥ç¡®ä¿å®‰å…¨

3. **æ·»åŠ æ–°ç”¨æˆ·**
   - è¿›å…¥åå°ç®¡ç†ç³»ç»Ÿ
   - æ‰¾åˆ°ç”¨æˆ·ç®¡ç†æ¨¡å—
   - ç‚¹å‡»"æ·»åŠ ç”¨æˆ·"ä¸ºå›¢é˜Ÿæˆå‘˜åˆ›å»ºæ–°è´¦å·

### ä»£ç æ›´æ–°

å¦‚æœä½ æ˜¯é€šè¿‡ Docker è¿è¡Œ Apiflowï¼Œæ›´æ–°ä»£ç æ—¶æ— éœ€åœ¨æœ¬åœ°é‡æ–°æ„å»ºã€‚

**æ–¹å¼ä¸€ï¼šä½¿ç”¨æ›´æ–°è„šæœ¬ï¼ˆæ¨èï¼‰**

```bash
# æ·»åŠ æ‰§è¡Œæƒé™ï¼ˆé¦–æ¬¡ï¼‰
chmod +x update.sh rollback.sh

# æ‰§è¡Œæ›´æ–°
./update.sh --cn
```

**æ–¹å¼äºŒï¼šæ‰‹åŠ¨æ›´æ–°**

```bash
docker compose -f docker-compose.yml -f docker-compose.cn.yml down
docker compose -f docker-compose.yml -f docker-compose.cn.yml pull
docker compose -f docker-compose.yml -f docker-compose.cn.yml up -d
```

**å›æ»šï¼ˆæ¨èä½¿ç”¨å¿«ç…§ç²¾ç¡®å›æ»šï¼‰**

```bash
# æ–¹å¼ä¸€ï¼šå›æ»šåˆ°æœ€è¿‘ä¸€æ¬¡ update.sh å¤‡ä»½çš„å¿«ç…§ï¼ˆæ¨èï¼‰
./rollback.sh --previous

# æ–¹å¼äºŒï¼šå›æ»šåˆ°æŒ‡å®šå¿«ç…§æ–‡ä»¶ï¼ˆæ¨èï¼‰
./rollback.sh --file current_versions_20260122_120000.txt

# æ–¹å¼ä¸‰ï¼šå…¼å®¹æ¨¡å¼ï¼ŒæŒ‰ tag/sha å›æ»šï¼ˆä¸ä¿è¯ç²¾ç¡®ï¼Œé€‚åˆç´§æ€¥ï¼‰
./rollback.sh v1.2.3
# ./rollback.sh 7f3a2b1c4d5e

# ä¸­å›½é•œåƒæºé…ç½®ï¼ˆå¦‚éœ€ï¼‰
./rollback.sh --previous --cn
```

---

## é˜¿é‡Œäº‘éƒ¨ç½²(2026-01-22æ›´æ–°)

### è´­ä¹°æœåŠ¡å™¨
![é˜¿é‡Œäº‘è´­ä¹°](./docs/aliyun/aliyun_buy.gif)

### linuxéƒ¨ç½²
ç›´æ¥åœ¨æœåŠ¡å™¨è¿è¡Œä»¥ä¸‹å‘½ä»¤,å®Œæˆåæµè§ˆå™¨é€šè¿‡ipç›´æ¥è®¿é—®ã€‚æ³¨æ„ï¼šmongodbå¯†ç éœ€è¦ä½ è‡ªè¡Œä¿®æ”¹
```bash
#æ·»åŠ Dockerè½¯ä»¶åŒ…æº
sudo wget -O /etc/yum.repos.d/docker-ce.repo http://mirrors.cloud.aliyuncs.com/docker-ce/linux/centos/docker-ce.repo
sudo sed -i 's|https://mirrors.aliyun.com|http://mirrors.cloud.aliyuncs.com|g' /etc/yum.repos.d/docker-ce.repo
#Alibaba Cloud Linux3ä¸“ç”¨çš„dnfæºå…¼å®¹æ’ä»¶
sudo dnf -y install dnf-plugin-releasever-adapter --repo alinux3-plus
#å®‰è£…Dockerç¤¾åŒºç‰ˆæœ¬ï¼Œå®¹å™¨è¿è¡Œæ—¶containerd.ioï¼Œä»¥åŠDockeræ„å»ºå’ŒComposeæ’ä»¶
sudo dnf -y install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

#å¯åŠ¨Docker
sudo systemctl start docker
#è®¾ç½®Dockerå®ˆæŠ¤è¿›ç¨‹åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨
sudo systemctl enable docker

yum install -y git
git clone https://gitee.com/wildsell/apiflow.git
cd apiflow
cat > .env << 'EOF'
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=9sf9383jm8dpqbxxaaxs
MONGO_DATABASE=apiflow
EOF

docker compose -f docker-compose.yml -f docker-compose.cn.yml pull
docker compose -f docker-compose.yml -f docker-compose.cn.yml up -d
curl -i localhost
```
![é˜¿é‡Œäº‘éƒ¨ç½²](./docs/aliyun/aliyun_linux.gif)

### ç¯å¢ƒè¦æ±‚
- 2æ ¸å¿ƒ2Gå†…å­˜





## ğŸ’»æœ¬åœ°å¼€å‘

### ç¯å¢ƒè¦æ±‚
- **Node.js**: >= 20.0.0
- **MongoDB**: æœ¬åœ°è¿è¡Œæˆ–è¿œç¨‹å¯è®¿é—®
- **Git**: ç”¨äºå…‹éš†ä»£ç ä»“åº“

### å¿«é€Ÿå¼€å§‹

1. **å…‹éš†ä»£ç ä»“åº“**

```bash
git clone https://gitee.com/wildsell/apiflow.git
cd apiflow
#å®‰è£…ä¾èµ–
npm install
```
**å›½å†…ç”¨æˆ·åŠ é€Ÿå®‰è£…**

å¦‚æœä½ åœ¨å›½å†…ç¯å¢ƒä¸‹é‡åˆ°ä¾èµ–å®‰è£…ç¼“æ…¢çš„é—®é¢˜ï¼Œå¯ä»¥å¯ç”¨å›½å†…é•œåƒæºï¼š

ç¼–è¾‘é¡¹ç›®æ ¹ç›®å½•çš„ `.npmrc` æ–‡ä»¶ï¼Œå–æ¶ˆä»¥ä¸‹ä¸‰è¡Œçš„æ³¨é‡Šï¼ˆåˆ é™¤è¡Œé¦–çš„ `#` ç¬¦å·ï¼‰ï¼š

```properties
ELECTRON_MIRROR=https://npmmirror.com/mirrors/electron/
ELECTRON_BUILDER_BINARIES_MIRROR=https://npmmirror.com/mirrors/electron-builder-binaries/
registry=https://registry.npmmirror.com
```

ç„¶åé‡æ–°è¿è¡Œ `npm install`ã€‚

2. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
npm run dev
```

æ­¤å‘½ä»¤ä¼šåŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯å¼€å‘æœåŠ¡å™¨ï¼š
- **å‰ç«¯ (Web)**: http://localhost:4000
- **åç«¯ (Server)**: http://localhost:7001

### å¯ç”¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `npm run dev` | åŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯å¼€å‘æœåŠ¡å™¨ |
| `npm run dev:web` | ä»…å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ |
| `npm run web:dev` | ä»…å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆå¤‡ç”¨ï¼‰ |
| `npm run server:dev` | ä»…å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨ |
| `npm run web:build` | æ„å»º Web åº”ç”¨ |
| `npm run server:build` | æ„å»º Server åº”ç”¨ |
| `npm run server:test` | è¿è¡Œåç«¯å•å…ƒæµ‹è¯• |
| `npm run bootstrap` | å®‰è£…æ‰€æœ‰ä¾èµ– |

### é¡¹ç›®ç»“æ„

è¿™æ˜¯ä¸€ä¸ªå¤šåŒ…é¡¹ç›®ï¼ˆmonorepoï¼‰ï¼š

- `packages/web` - å‰ç«¯åº”ç”¨ï¼ˆVite + Vue 3 + Electronï¼‰
- `packages/server` - åç«¯åº”ç”¨ï¼ˆMidway.js + MongoDBï¼‰
- `packages/website` - å®˜ç½‘ï¼ˆNext.jsï¼‰

### å¼€å‘æç¤º

- å¯åŠ¨ Server å‰è¯·ç¡®ä¿ MongoDB å·²è¿è¡Œ
- å‰ç«¯æ”¯æŒçƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰ï¼Œå¯å¿«é€Ÿå¼€å‘è°ƒè¯•
- åç«¯æ–‡ä»¶å˜æ›´æ—¶ä¼šè‡ªåŠ¨é‡å¯
- å¯ä»¥é€šè¿‡è¿è¡Œç‰¹å®šå‘½ä»¤ç‹¬ç«‹å¼€å‘å„ä¸ªåŒ…
## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT** è®¸å¯è¯è¿›è¡Œè®¸å¯

è¯¦æƒ…è¯·å‚é˜… [LICENSE](./LICENSE)
